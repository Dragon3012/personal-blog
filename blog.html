<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Blog - Nguyễn Xuân Trường</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav class="container">
            <div class="logo">NXT</div>
            <ul class="nav-links">
                <li><a href="index.html">Trang Chủ</a></li>
                <li><a href="cv.html">CV</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="contact.html">Liên Hệ</a></li>
            </ul>
        </nav>
    </header>

    <main class="container">
        <div class="card">
            <h1 style="text-align: center; margin-bottom: 3rem; color: #fff; font-size: 3rem;">Bài Viết Của Tôi</h1>
            <div class="blog-grid" id="blog-container">
                </div>
        </div>
    </main>

    <script src="data.js"></script>
    <script>
        // Code hiển thị danh sách blog ngay tại trang blog.html
        document.addEventListener('DOMContentLoaded', () => {
    const container = document.getElementById('blog-container');
    
    // Kiểm tra xem blogPosts có tồn tại không để tránh lỗi trắng trang
    if (typeof blogPosts === 'undefined') {
        console.error("Dữ liệu blogPosts không tồn tại. Kiểm tra lại file data.js");
        return;
    }

    Object.keys(blogPosts).forEach(slug => {
        const post = blogPosts[slug];
        const card = document.createElement('div');
        card.className = 'blog-card';
        
        // Thêm thuộc tính data-slug để CSS có thể nhận diện bài DDoS
        card.setAttribute('data-slug', slug);

        // Thêm logic hiển thị thẻ "Nổi bật" nếu là bài DDoS
        const hotTag = (slug === 'ddos-defense-strategy') ? 
            '<span style="background:#ffcc00; color:#000; padding:2px 8px; border-radius:10px; font-size:0.7rem; font-weight:bold; margin-left:10px;">HOT</span>' : '';

        card.innerHTML = `
            <h3>${post.title} ${hotTag}</h3>
            <p class="date">${post.date}</p>
            <p>${post.summary || ''}</p>
        `;

        card.onclick = () => { 
            window.location.href = `post.html?id=${slug}`; 
        };
        
        container.appendChild(card);
    });
});